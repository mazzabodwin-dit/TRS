{% extends "layout.html" %}

{% block pageTitle %}
  Choose case - {{serviceName}}
{% endblock %}

<!-- This sets a body class for the whole page: indication which section the user is on in the navigation-->
{% set bodyClasses = 'org-nav' %}


{% block header %}
  {% include "includes/header-public.html" %}
{% endblock %}

{% block beforeContent %}
{% include "includes/beta-banner.html"%}

<a class="govuk-back-link govuk-link--no-visited-state" href="javascript: history.back()">Back</a>

{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">   
    

      <form action="manage-org-user" method="post" id="assign-case-form">   

        {% if data['invite-case'] =="None" or data['invite-case'] == null %}

          {{ govukCheckboxes({
            idPrefix: "invite-case",
            name: "invite-case",
            fieldset: {
              legend: {
                text: "Which case?",
                isPageHeading: true,
                classes: "govuk-fieldset__legend--xl"
              }
            },
            hint: {
              text: "Select the cases they can take part in."
            },
            items: [
              {
                value: "AD2224 - Steel plate from Russia",
                html: "AD2224 - Steel plate from Russia",
                checked: checked("invite-case", "AD2224 - Steel plate from Russia")
              },
              {
                value: "TS0002 - Rainbow Trout from Republic of Turkey",
                html: "TS0002 - Rainbow Trout from Republic of Turkey",
                checked: checked("invite-case", "TS0002 - Rainbow Trout from Republic of Turkey" )
              }
            ]
          }) }}

          {% else %}
          {% if (data['invite-case'] == "AD2224 - Steel plate from Russia") %}

            {{ govukCheckboxes({
              idPrefix: "invite-case",
              name: "invite-case",
              fieldset: {
                legend: {
                  text: "Which case?",
                  isPageHeading: true,
                  classes: "govuk-fieldset__legend--xl"
                }
              },
              hint: {
                text: "Select the cases they can take part in."
              },
              items: [
                {
                  value: "AD2224 - Steel plate from Russia,TS0002 - Rainbow Trout from Republic of Turkey",
                  html: "TS0002 - Rainbow Trout from Republic of Turkey",
                  checked: checked("invite-case", "AD2224 - Steel plate from Russia,TS0002 - Rainbow Trout from Republic of Turkey" )
                }
              ]
            }) }}

            {% else %}
            {% if (data['invite-case'] == "TS0002 - Rainbow Trout from Republic of Turkey") %}

              {{ govukCheckboxes({
                idPrefix: "invite-case",
                name: "invite-case",
                fieldset: {
                  legend: {
                    text: "Which case?",
                    isPageHeading: true,
                    classes: "govuk-fieldset__legend--xl"
                  }
                },
                hint: {
                  text: "Select the cases they can take part in."
                },
                items: [
                  {
                    value: "AD2224 - Steel plate from Russia,TS0002 - Rainbow Trout from Republic of Turkey",
                    html: "AD2224 - Steel plate from Russia",
                    checked: checked("invite-case", "AD2224 - Steel plate from Russia,TS0002 - Rainbow Trout from Republic of Turkey")
                  }
                ]
              }) }}

              {% else %}
              <h1 class="govuk-heading-xl">
                Which case?
                <br>
              </h1>
              <p> There are no more cases available to assign to this user</p>


            {% endif %}
          {% endif %}
        {% endif %}

        {{ govukDetails({
          summaryText: "Why can't I see other active cases?",
          html: '<p>You can only select cases that you are currently participating in.</p>
          <p> You can <a href="" class="govuk-link">register interest</a> in a case and if accepted you can invite others.</p>'
        }) }}
        
        <div class="govuk-button-group">
          {{ govukButton({
            text: "Continue"
          }) }}    
          <a class="govuk-link govuk-link--no-visited-state" href="javascript: history.back()">Back</a>
        </div>

      </form> 
    </div>
  </div>
{% endblock %}

{% block footer %}
{{ govukFooter({
  meta: {
    items: [
      {
        href: "#1",
        text: "Help"
      },
      {
        href: "#2",
        text: "Cookies"
      },
      {
        href: "/public-site/terms-privacy",
        text: "Terms & Privacy"
      },
      {
        href: "#4",
        text: "Accessibility"
      },
      {
        href: "/prototype-admin/clear-data",
        text: "Clear data"
      },
      {
        href: "invite-user-case-rep",
        text: "Cases for Rep orgs"
      }
    ]
  }
}) }}
{% endblock %}