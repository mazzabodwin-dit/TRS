{% extends "layout.html" %}

{% block pageTitle %}
  Who is registering interest â€“ {{serviceName}}
{% endblock %}

{% block header %}
 {% include "includes/header-public.html" %}
{% endblock %}

{% block beforeContent %}
 {% include "includes/beta-banner.html"%}

 <a class="govuk-back-link govuk-link--no-visited-state" href="reginterest-tasks">Back</a>

{% endblock %}

{% block content %}

<div class="govuk-grid-row">

  <div class="govuk-grid-column-two-thirds">
    <span class="govuk-caption-xl">2. About you</span>

    <form action="/reginterest-which-org-route" method="post" id="reginterest-which-org-form">
      

      <!-- Set the name of the org if is is "my org" whether from regsitering or default-->
      {% set myorgHTML %}
        {% if (data['who-signin'] == "org") or (data['who-signin'] == "org-invite") %}
          {{data['createaccount-org-name'] or data['party1'] }}
          {% else %}
          {{data['createaccount-org-name'] or data['representative1'] }}
        {% endif %}
      {% endset -%}

     <!-- According to whether it is an org or a rep show the "existing client" in the select -->
      {% if (data['who-signin'] == "org") or (data['who-signin'] == "org-invite") %}

        {{ govukRadios({
          idPrefix: "reginterest-what-org",
          name: "reginterest-what-org",
          fieldset: {
            legend: {
              text: "Who is registering interest in this case?",
              isPageHeading: true,
              classes: "govuk-fieldset__legend--xl"
            }
          },
          items: [
            {
              value: "my-org",
              html: myorgHTML,
              checked: checked("reginterest-what-org", "my-org")
            },
            {
              value: "new-org",
              text: "An organisation I am representing for the first time using the Trade Remedies Service",
              checked: checked("reginterest-what-org", "new-org")
            }
          ]
        }) }}

        {% else %}
        {% if (data['who-signin'] == "rep") or (data['who-signin'] == "rep-invite") %}

          {{ govukRadios({
            idPrefix: "reginterest-what-org",
            name: "reginterest-what-org",
            fieldset: {
              legend: {
                text: "Who is registering interest in this case?",
                isPageHeading: true,
                classes: "govuk-fieldset__legend--xl"
              }
            },
            items: [
              {
                value: "my-org",
                html: myorgHTML,
                checked: checked("reginterest-what-org", "my-org")
              },
              {
                value: "existing-org",
                text: "An organisation I have previously represented using the Trade Remedies Service",
                checked: checked("reginterest-what-org", "existing-org")

              },
              {
                value: "new-org",
                text: "An organisation I am representing for the first time using the Trade Remedies Service",
                checked: checked("reginterest-what-org", "new-org")
              }
            ]
          }) }}
        {% endif %}
      {% endif %}

      <div class="govuk-button-group">
        {{ govukButton({
          text: "Continue"
        }) }}    
        <a class="govuk-link govuk-link--no-visited-state" href="reginterest-tasks">Back</a>
      </div>

    </form>
      <!-- Test data -->
          <!--<div class="govuk-inset-text">
            Test data: <br>
            Which org started?: {{ data['which-org-started']}}<br> 
            Type of reg org: {{ data['reginterest-what-org']}}
          </div> 
        -->
  </div>

  

</div>


{% endblock %}


{% block footer %}
{%include "includes/footer.html" %}
{% endblock %}