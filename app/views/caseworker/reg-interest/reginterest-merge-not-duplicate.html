{% extends "layout.html" %}

{% block pageTitle %}
  Confirm not duplicate â€“ {{serviceName}}
{% endblock %}

{% set bodyClasses = 'caseworker-width' %}

{% block header %}
 {% include "includes/header-caseworker.html" %}
{% endblock %}

{% block beforeContent %}
<a class="govuk-back-link govuk-link--no-visited-state" href="javascript: history.back()">Back</a>
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
      <span class="govuk-caption-xl">
        Resolve duplicates
      </span>

    <h1 class="govuk-heading-xl">
      Confirm not a duplicate
    </h1>
    <p>Confirm the matching organsation is not a duplicate.
</p>
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <div style="overflow-x:auto;">
        <table class="govuk-table merge">
          <caption class="govuk-table__caption govuk-visually-hidden">
            A table showing the selected organisation and the matching organisation
          </caption>      
          <thead class="govuk-table__head">
            <tr class="govuk-table__row">
              <th scope="col" class="govuk-table__header">Field</th>
              <th scope="col" class="govuk-table__header">Selected organisation </th>
              <th scope="col" class="govuk-table__header">Matching organisation</th>
            </tr>
          </thead>
          <tbody class="govuk-table__body">
            <tr class="govuk-table__row no-border">
              <th scope="row" class="govuk-table__header">Name</th>
              <td class="govuk-table__cell">
                    {{data['representative1'] }}
              </td>
              {% if data['merge-duplicates'] == "1a" or data['merge-duplicates'] == "1of2" %}
                <td class="govuk-table__cell">
                      {{data['dup-party1'] }}
                </td>
              {% endif %}
              {% if data['merge-duplicates'] == "1c" or data['merge-duplicates'] == "2of2" %}
                <td class="govuk-table__cell"> 
                      {{data['dup-party3'] }}
                </td>
              {% endif %}
            </tr>
            <tr class="govuk-table__row no-border">
              <th scope="row" class="govuk-table__header">Address</th>
              <td class="govuk-table__cell">
                    {{data['rep-address1'] }}
              </td>
              {% if data['merge-duplicates'] == "1a" or data['merge-duplicates'] == "1of2" %}
                <td class="govuk-table__cell">
                      {{data['dup-party-address1'] }}
                </td>
              {% endif %}
              {% if data['merge-duplicates'] == "1c" or data['merge-duplicates'] == "2of2" %}
                <td class="govuk-table__cell">
                      {{data['dup-party-address3'] }}
                </td>
              {% endif %}
            </tr>
            <tr class="govuk-table__row no-border">
              <th scope="row" class="govuk-table__header">Postcode/ zip</th>
              <td class="govuk-table__cell">
                    {{data['rep-postcode1'] }}
              </td>
              {% if data['merge-duplicates'] == "1a" or data['merge-duplicates'] == "1of2" %}
                <td class="govuk-table__cell">
                      {{data['dup-party-postcode1'] }}
                </td>
              {% endif %}
              {% if data['merge-duplicates'] == "1c" or data['merge-duplicates'] == "2of2" %}
                <td class="govuk-table__cell">
                      {{data['dup-party-postcode3'] }}
                </td>
              {% endif %}
            </tr>
            <tr class="govuk-table__row no-border">
              <th scope="row" class="govuk-table__header">Country</th>
              <td class="govuk-table__cell">
                    {{data['rep-country1'] }}
              </td>
              {% if data['merge-duplicates'] == "1a" or data['merge-duplicates'] == "1of2" %}
                <td class="govuk-table__cell">
                      {{data['dup-party-country1'] }}
                </td>
              {% endif %}
              {% if data['merge-duplicates'] == "1c" or data['merge-duplicates'] == "2of2" %}
                <td class="govuk-table__cell"> 
                      {{data['dup-party-country3'] }}
                </td>
              {% endif %}
            </tr>
            <tr class="govuk-table__row no-border">
              <th scope="row" class="govuk-table__header">Reg number</th>
              <td class="govuk-table__cell">
                    {{data['rep-org-number1'] }}
              </td>
              {% if data['merge-duplicates'] == "1a" or data['merge-duplicates'] == "1of2" %}
                <td class="govuk-table__cell">
                      {% if (data['dup-party-org-number1'] == null) %}
                          (empty)
                        {% else %}
                          <mark>{{data['dup-party-org-number1'] }}</mark>
                      {% endif %}
                </td>
              {% endif %}
              {% if data['merge-duplicates'] == "1c" or data['merge-duplicates'] == "2of2" %}
                <td class="govuk-table__cell">
                      {% if (data['dup-party-org-number3'] == null) %}
                          (empty)
                        {% else %}
                          {{data['dup-party-org-number3'] }}
                      {% endif %}
                </td>
              {% endif %}
            </tr>
            <tr class="govuk-table__row no-border">
              <th scope="row" class="govuk-table__header">Website</th>
              <td class="govuk-table__cell">
                      {{data['rep-web1'] }}
              </td>
              {% if data['merge-duplicates'] == "1a" or data['merge-duplicates'] == "1of2" %}
                <td class="govuk-table__cell">
                      {% if (data['dup-party-web1'] == null) %}
                          (empty)
                        {% else %}                      
                          {{data['dup-party-web1'] }}
                      {% endif %}
                </td>
              {% endif %}
              {% if data['merge-duplicates'] == "1c" or data['merge-duplicates'] == "2of2" %}
                <td class="govuk-table__cell">
                    {% if (data['dup-party-web3'] == null) %}
                          (empty)
                        {% else %}                      
                          {{data['dup-party-web3'] }}
                      {% endif %}
                </td>
              {% endif %}
            </tr>
            <tr class="govuk-table__row no-border">
              <th scope="row" class="govuk-table__header">VAT number</th>
              <td class="govuk-table__cell">
                    {% if (data['rep-vat1'] == null) %}
                        (empty)
                      {% else %}
                        {{data['rep-vat1'] }}
                    {% endif %}
              </td>
              {% if data['merge-duplicates'] == "1a" or data['merge-duplicates'] == "1of2" %}
                <td class="govuk-table__cell">
                      {% if (data['dup-party-vat1'] == null) %}
                        (empty)
                        {% else %}
                          {{data['dup-party-vat1'] }}
                      {% endif %}
                </td>
              {% endif %}
              {% if data['merge-duplicates'] == "1c" or data['merge-duplicates'] == "2of2" %}
                <td class="govuk-table__cell">
                      {% if (data['dup-party-vat3'] == null) %}
                        (empty)
                        {% else %}
                          {{data['dup-party-vat3'] }}
                      {% endif %}
                </td>
              {% endif %}
            </tr>
            <tr class="govuk-table__row no-border">
              <th scope="row" class="govuk-table__header">EORI number</th>
              <td class="govuk-table__cell">
                    {% if (data['rep-eori1'] == null) %}
                        (empty)
                        {% else %}
                          {{data['rep-eori1'] }}
                      {% endif %}

              </td>
              {% if data['merge-duplicates'] == "1a" or data['merge-duplicates'] == "1of2" %}
                <td class="govuk-table__cell">
                      {% if (data['dup-party-eori1'] == null) %}
                        (empty)
                        {% else %}
                          {{data['dup-party-eori1'] }}
                      {% endif %}
                </td>
              {% endif %}
              {% if data['merge-duplicates'] == "1c" or data['merge-duplicates'] == "2of2" %}
                <td class="govuk-table__cell">
                      {% if (data['dup-party-eori3'] == null) %}
                        (empty)
                        {% else %}
                          {{data['dup-party-eori3'] }}
                      {% endif %}
                </td>
              {% endif %}
            </tr>
            <tr class="govuk-table__row no-border">
              <th scope="row" class="govuk-table__header">DUNS number</th>
              <td class="govuk-table__cell">
                    {% if (data['rep-duns1'] == null) %}
                      <label class="govuk-label govuk-radios__label" for="duns-rep">
                        (empty)
                      {% else %}
                        {{data['rep-duns1'] }}
                    {% endif %}
              </td>
              {% if data['merge-duplicates'] == "1a" or data['merge-duplicates'] == "1of2" %}
                <td class="govuk-table__cell">
                      {% if (data['dup-party-duns1'] == null) %}
                          (empty)
                        {% else %}
                          {{data['dup-party-duns1'] }}
                      {% endif %}
                </td>
              {% endif %}
              {% if data['merge-duplicates'] == "1c" or data['merge-duplicates'] == "2of2" %}
                <td class="govuk-table__cell">
                      {% if (data['dup-party-duns3'] == null) %}
                          (empty)
                        {% else %}
                          {{data['dup-party-duns3'] }}
                      {% endif %}
                </td>
              {% endif %}
            </tr>
          </tbody>
        </table>
      </div>

    <div class="govuk-button-group">
     <!--Show a Not duplicate button for representative -->
      {% if (data['merge-duplicates'] == "1of2") %}
        {{ govukButton({
          text: "Confirm and continue",
          href: "reginterest-merge-not-duplicate-confirm?merge-duplicates=1c&merge-rep-task=started"
        }) }}    
        {% else %}
        {% if (data['merge-duplicates'] == "2of2") %}
            {{ govukButton({
              text: "Confirm and continue",
              href: "reginterest-merge-not-duplicate-confirm?merge-duplicates=1a&merge-rep-task=started"
            }) }}    
          {% else %}
          {% if (data['merge-duplicates'] == "1a") or (data['merge-duplicates'] == "1c") %}
              {{ govukButton({
                text: "Confirm and continue",
                href: "reginterest-merge-not-duplicate-confirm?merge-duplicates=0&merge-rep-task=complete"
              }) }}    
            {% else %}
            <!--Or show a button that is for Interested Party only-->
              {{ govukButton({
                text: "Confirm and continue",
                href: "reginterest-merge-not-duplicate-confirm?merge-duplicates=0&merge-task=complete"
              }) }}    
          {% endif %}
        {% endif %}
      {% endif %}
      <a class="govuk-link" govuk-link--no-visited-state href="javascript: history.back()">Back</a>
    </div>
    </form>
  </div>
</div>

{% endblock %}
{% block footer %}
{%include "includes/footer.html" %}
{% endblock %}


